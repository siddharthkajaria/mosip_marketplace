<div class="container">
  <div class="ml-15p mr-15 ml-5p-pro ml-5p-md mx-0-sm">
    <div class="row">
      <div class="col-lg-12">
        <div id="grid-view" class="grid-view">
          <div class="row">
            <% system_integrators.each do |integrator| %>
              <div class="col-lg-4 mt-30">
                <%= link_to system_integrator_path(integrator) do %>
                  <div class="border-grey-3 br-20 cursor-1">
                    <div class="bg-style-4 position-relative">
                      <div class="product-1">
                        <% if integrator.image_data.present? %>
                          <img src="<%= integrator.image_url %>" class="w-100 h-150px object-contain" alt="integrator-img">
                        <% else %>
                          <img src="images/meeting_default.png" class="w-100 h-150px object-contain" alt="default-img">
                        <% end %>
                      </div>
                      <div class="text-right mt-1 position-3">
                        <img src="/images/product-main/info-1.png" width="20" height="20" alt="info" title="<%= ERB::Util.html_escape(strip_tags(integrator.desc)) %>">
                      </div>
                    </div>
                    <div class="border-top-1 p-1">
                      <div class="bg-style-5">
                        <div class="text-style-1 fs-14 product-2"><%= integrator.name %></div>
                        <% if integrator.partnership_validity.present? %>
                          <div class=" mt-10 text-style-2-valid product-3">Partner Till: <%= integrator.partnership_validity %></div>
                        <% end %>
                      </div>
                    </div>
                  </div>
                <% end %>
              </div>
            <% end %>
          </div>
        </div>

        <div id="list-view" class="list-view" style="display: none;">
          <% system_integrators.each do |integrator| %>
            <%= link_to system_integrator_path(integrator), class: 'text-decoration-none' do %>
              <div class="row mt-30">
                <div class="col-lg-4"> 
                  <div class="border-grey-3 br-20 cursor-1 bg-grey-1 p-20">
                    <% if integrator.image_data.present? %>
                      <img src="<%= integrator.image_url %>" class="w-100 h-200px object-contain" alt="integrator-img">
                    <% else %>
                      <img src="images/meeting_default.png" class="w-100 h-200px object-contain" alt="default-img">
                    <% end %>
                  </div>
                </div>
                <div class="col-lg-8">
                  <div class="mt-15-sm">
                    <div class="text-style-1 fs-14"><%= integrator.name %></div>
                    <% if integrator.partnership_validity.present? %>
                      <div class="text-style-2-valid ">Partner Till: <%= integrator.partnership_validity %></div>
                    <% end %>
                    <div class="text-style-3 fs-12-sm mt-10">
                      <% if integrator.desc.present? %>
                        <%= truncate(sanitize(integrator.desc), length: 200, separator: '</p>', escape: false) %>
                      <% end %>
                    </div>
                    <div class="mt-20">
                      <button class="btn btn-style-1">Read More</button>
                    </div>
                  </div>
                </div>
              </div>
            <% end %>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
